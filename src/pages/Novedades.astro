---
import Layout from "../layouts/Layout.astro";
import Banner from "../components/Banner.astro";
import { getPosts } from '../sanity/lib/getPost';

const posts = await getPosts();
---
<Layout title="Novedades y Noticias">
  <Banner imagen="/FotosGamp/imagen6.jpg" titulo="Novedades y Noticias" />
  <ul class=" m-auto grid place-items-center gap-5 py-4">
    {posts.map(post => (
          <li class="md:w-[60%] bg-white w-full p-4 md:rounded-3xl shadow-xl" >
          <a href={`/post/${post.slug.current}`}>
          <img class="m-auto w-auto md:max-h-[600px]" src={post.mainImage?.asset?.url} alt={post.title} />
          <small>{new Date(post.publishedAt).toLocaleDateString()}</small>
          <h2 class="font-bold text-[20px]">{post.title}</h2>
        </a>
        </li>
    ))}
  </ul> 
</Layout>
